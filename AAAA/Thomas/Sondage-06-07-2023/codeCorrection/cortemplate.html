
<!--  template pour les correction -->
<style>
    .correction-card-list {
        display:flex;
        flex-direction: column;
    }

    @keyframes on-select{
        0% {
            border-left: outset 8px var(--secondary-color);
        }
        100% {
            border-left: outset 8px var(--selected-color);
        }
    }

    .correction-card {
        --primary-color: #000000;
        --secondary-color: #f0f8ff;
        --selected-color: #91daff5d;
        color: var(--primary-color);
        border-left: outset 8px var(--secondary-color);
        padding: 16px;
    }

    .correction-card:hover {
        border-left: outset 8px var(--selected-color);
        animation: on-select 1s;
    }
    
    .content { 
        display: flex;
        flex-direction:column;
        margin: 16px;
        display: grid;
        grid-template-columns: 5fr 1fr;
        grid-template-rows: 1fr;
        grid-column-gap: 2px;
        grid-row-gap: 0px;
    }

    .header {
        display: flex;
        justify-content: space-between;
        font-weight: bold;
        padding-bottom: 2px;
    }

     .header > .user-info > .name {
        font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        font-size: 3ch;
    }

    .header > .user-info > .id {
        opacity: 0.42;
        font-style: italic;
    }

    .content > .body {
        padding: 8px;
        grid-area: 1 / 1 / 2 / 2; 
    }

    .content > .body > .title {
        font-size: 2.5ch;
    }

    .content > .actions { 
        grid-area: 1 / 2 / 2 / 3;
        display: flex;
        justify-content: flex-end;
        flex-direction: column;
    }

    .content > .actions > button {
        border: none;
        color: white;
        padding: 8px 16px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        cursor:pointer;
        margin-bottom:8px;
    }

    .content > .actions > button:hover {
        opacity: 0.8;
    }

    .content > .actions > button.valide {
        background-color: #4CAF50;
    }

    .content > .actions > button.invalide {
        background-color: #f44336;
    }
</style>
<!-- Generated from script -->
<script>
function hideOrShowContent(contentId) {
    console.log("HideorShowContent:" + contentId);
//    $("#" + contentId + "_div").hide();
    $("#" + contentId).click(function(){
        $("#" + contentId + "_div").toggle();
    });
}

function assignCheckValue(checkedValue, formid) {
    document.getElementById(`form_${formid}`)?.remove();
    var x = document.createElement('input');
    x.setAttribute('id', `form_${formid}`)
    x.setAttribute('style', "display:none;");
    x.setAttribute('value', checkedValue);
    document.getElementById("test").appendChild(x);
    console.log("assignCheckValue:" + formid);
    $("#" + formid + "_div").toggle();
}

</script>
{% if not feedback.copies %}
<div style="border:1px solid black;padding:0%;margin:1%;background-color:LightGreen;border-radius:4px;">
    Aucune copies 
</div>
{% else %}
<div class="correction-card-list" id="test">
{% for copieHtml, (firstname, lastname, user, code, score, checked) in feedback.getCopiesAsHtml() %}
<div class="correction-card">
    <div class="header">
        <div class="user-info">
            <span class="name">{{firstname}} {{lastname}} #{{user}}</span>
            <span>checked : {{checked}}</span>
        </div>
        <span class="score">Score: {{score}}</span>
    </div>
    {{copieHtml}}
</div>
{% endfor %}
</div>
{% endif %}